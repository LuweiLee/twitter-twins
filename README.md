# 推文风格模仿器 (Tweet Style Imitator) ✨

嘿，哥们！这是我捣鼓出来的一个超酷的 Chrome 扩展。它现在超级强大，让你在浏览 Twitter (X) 的时候，不仅能模仿任何推文的风格，还能自由选择 AI 服务商，甚至每天都有免费的使用次数！

> 🚀 一个展示扩展核心功能的 GIF 动图放在这里会非常牛逼！

---

## 核心功能 🤯

*   **⚡ 免费每日试用**: 无需任何配置，即装即用！每天提供 5 次免费生成机会，让你零成本体验核心功能。
*   **🤖 三大 AI 服务商支持**: 自由切换 **Google Gemini**, **OpenAI GPT**, 和 **DeepSeek**。无论你偏爱哪个模型，都能无缝接入。
*   **🔧 完全自定义**: 你不仅能用自己的 API Key，还能**指定模型名称**和**API 地址**！无论是官方接口还是第三方代理，都能轻松配置。
*   **🔐 安全第一**:
    *   **免费次数**通过安全代理服务器处理，绝不暴露我的密钥，也保护了你的隐私。
    *   **你的密钥**安全地存储在本地，绝不会上传到任何地方。
*   **👍 无缝页面集成**: 告别切换标签！直接在每条推文旁边生成“✨ 模仿”按钮，点击后在当前页面弹出可拖拽的对话框，体验极其流畅。
*   **💡 智能测试**: 在设置页面，一键测试你的 API Key 和网络连通性，告别盲猜。

---

## 它是怎么工作的？(特工小队模型) 🕵️

这个扩展就像一个高效的特工小队，各司其职：

1.  **侦察兵 (`content.ts`)**: 潜入 Twitter 页面，扫描所有推文，并在目标旁边安装秘密装置（“模仿”按钮）。
2.  **联络官 (`MessageChannel`)**: 建立“秘密专线”，确保前线和总部的通信安全、不串线。
3.  **交互界面 (`index.tsx` - React)**: 通过一个可拖拽、自适应大小的 `iframe` 对话框弹出，负责接收指令、展示结果，并提供友好的设置入口。
4.  **智能调度中心 (`background.js`)**: 全新的后台大脑！它现在是：
    *   一个**配额管理员**，负责计算你的每日免费次数。
    *   一个**安全路由器**，判断是该通过代理服务器使用免费服务，还是使用用户自己的配置。
    *   一个**多面手翻译官**，能适配并调用 Google, OpenAI, DeepSeek 等多种完全不同的 API。
    *   一个**测试工程师**，响应来自设置页面的连通性测试请求。

---

## 🚀 安装与使用 (普通用户)

1.  从 **Chrome 应用商店** 或 **Microsoft Edge 加载项** 安装本扩展。
2.  点击浏览器右上角的扩展图标，在弹出的窗口中点击“**⚙️ 前往设置**”。
3.  **直接开始使用！** 你每天有 5 次免费机会。
4.  （可选）当免费次数用尽后，你可以在设置页面填入你自己的 API Key，选择你喜欢的服务商和模型，继续无限制使用。
5.  打开 Twitter (X)，在任意推文下方找到“✨ 模仿”按钮，开始你的创作之旅！

---

## 🛠️ 安装与使用 (开发者)

### 1. 本地设置

```bash
# 克隆仓库到本地
git clone https://github.com/luweilee/twitter-twin.git

# 进入项目目录
cd twitter-twin

# 安装所有依赖
npm install
```

### 2. 核心配置

为了让免费试用功能在你的本地开发环境中工作，你需要配置自己的 Cloudflare Worker 代理。

1.  参照[相关教程](https://developers.cloudflare.com/workers/)部署一个代理 Worker。
2.  在 `background.js` 文件中，将 `FREE_TIER_PROXY_ENDPOINT` 变量的值替换为你自己的 Worker URL。

### 3. 构建与加载

```bash
# 构建项目
npm run build
```

构建成功后，所有可用于部署的文件都会生成在 `dist` 目录中。

1.  **加载到 Chrome**:
    *   打开 Chrome 浏览器，地址栏输入 `chrome://extensions/`。
    *   打开右上角的“**开发者模式**”开关。
    *   点击“**加载已解压的扩展程序**”。
    *   在弹出的文件选择框中，选择项目中的 `dist` 文件夹。

---

## 💡 未来计划 (Roadmap)

我们一直在进化！

-   [ ] **流式输出 (Streaming)**: 让 AI 的回答像打字机一样一个字一个字地蹦出来，提升交互体验。
-   [ ] **记住窗口位置**: 让模仿窗口能记住上次关闭时的位置和大小。
-   [ ] **性能优化**: 使用 `MutationObserver` 代替 `setInterval`，降低后台资源消耗。
-   [ ] **更多平台支持**: 让这个功能也能在 Reddit, 微博等平台上使用。
-   [ ] **自定义 Prompt**: 允许高级用户在设置中修改或添加自己的 Prompt 模板。

---
